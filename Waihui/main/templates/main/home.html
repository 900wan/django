{% extends "main/base.html" %}
{% load i18n %} 
{% load tz %}
{% get_current_language as LANGUAGE_CODE %}
{% get_current_timezone as TIME_ZONE %}

{% block title %}
    Home
{% endblock title %}

{% block content %}
    <h1>{{heading}}</h1>
    {% trans "This the content of home page." %}
    <h1>{% trans "User"%}</h1>
    {% if info.is_login %}
        <h2>* User profile</h2>
            <ul style="font-family:monospace;">
                <li>login name: {{info.current_user.get_username}}</li>
                <li>email: {{info.current_user.email}}</li>
                <li>last login: {{info.current_user.last_login|date:"Y-m-d H:i:s (O)"}}</li>
                <li>wallet balance: CNY {{info.current_user.wallet.cny_balance}}</li>
                <li>as a student:</li>
                <ul>
                    <li>nickname: {{info.current_user.buyer.nickname}}</li>
                    <li>preferred language: {{info.current_user.buyer.mother_tongue.english_name|language_name}}</li>
                    <li>learning: {{info.current_user.buyer.sku_set.all|length}} courses</li>
                </ul>
                <li>as a tutor:</li>
                <ul>
                    <li>stage name (for tutoring): {{info.current_user.provider.name}}</li>
                    <li>tutoring status: {{info.current_user.provider.get_status_display}}</li>
                    <li>tutoring: {{info.current_user.provider.sku_set.all|length}} courses</li>
                </ul>
            </ul>
        {% if notis %}
        <h2>* Your have {{anotis|length}} notifications</h2>
            <table>
                <thead>
                    <tr>
                        <td></td>
                        <td></td>
                        <td></td>

                    </tr>
                </thead>
                <tbody>
                    {% for anoti in anotis %}
                        <tr style="vertical-align:top">
                            <td><strong>[{{anoti.read|upper}}]</strong></td>
                            <td>{{anoti.content|safe}}</td>
                            <td><a href="{{anoti.link}}">&lt;GO&gt;</a></td>

                        </tr>
                    {% endfor%}
                </tbody>
            </table>
        {% else %}
            Great, you have no notification!
        {% endif %}
    {% else %}
        {% trans "You have not loged in." %}

    {% endif %}
    <h1>{% trans "Local" %}</h1>
    <h2>* Language</h2>
    {% trans "The priority languageï¼š" %}{{ LANGUAGE_CODE|language_name_local }}. (
    {{ LANGUAGE_CODE }}, 
    {{ LANGUAGE_CODE|language_name_local }}, 
    {{ LANGUAGE_CODE|language_name }}, 
    {{ LANGUAGE_CODE|language_bidi }}) <br>
    {% trans "This is our first auto-translation page." %}
    <h2>* Time zone</h2>
        Time zone using in this page: {{TIME_ZONE}}
        <ul style="text-align:right; width:280px;font-family:monospace;">
            {% localtime off %}
            <li>Server: {{now_tz|date:"Y-m-d H:i:s (O)"}}</li>
            {% endlocaltime %}
            <li>Beijing : {{now_tz|timezone:"Asia/Shanghai"|date:"d H:i:s (O)"}}</li>
            <li>Los Angeles : {{now_tz|timezone:"America/Los_Angeles"|date:"d H:i:s (O)"}}</li>
            <li>Chicago : {{now_tz|timezone:"America/Chicago"|date:"d H:i:s (O)"}}</li>
            <li>New York : {{now_tz|timezone:"America/New_York"|date:"d H:i:s (O)"}}</li>
            <li>London : {{now_tz|timezone:"Europe/London"|date:"d H:i:s (O)"}}</li>
            <li>Paris : {{now_tz|timezone:"Europe/Paris"|date:"d H:i:s (O)"}}</li>
        </ul>

    
    <h1>{% trans "Pages" %}</h1>
    <p>{% trans "link to other pages" %}</p>
    {# <a href="{% url 'main:index' %}">{% trans "Show Index" %}</a> #}
    {# <a href="{% url 'main:user' %}">{% trans "Show Users" %}</a> #}
    {# <a href="{% url 'main:topic_category'%}">{% trans "Show Topic category" %}</a> #}
    {# <a href="{% url 'main:tutor' %}">{% trans "Show tutortor" %}</a> #}
    <ul>
        <li><a href="{% url 'main:signup' %}">{% trans "Sign up now!" %}</a>    </li>
        <li><a href="{% url 'main:login' %}">{% trans "Already have accounts?" %}</a></li>
        <li><a href="{% url 'main:skulist' %}">{% trans "SKU List" %}</a></li>
        <li><a href="{% url 'main:addsku' %}">{% trans "Add SKU" %}</a></li>
    </ul>
    

{% endblock content %}